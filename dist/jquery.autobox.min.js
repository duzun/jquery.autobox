!function(o,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("jqueryAutobox",e):o.jqueryAutobox=e()}(this,function(){"use strict";
/**
 * Autogrow Textareas
 * jQuery.autobox
 *
 * https://github.com/duzun/jquery.autobox
 *
 * Copyright (c) 2018 Dumitru Uzun
 *
 *  @license The MIT license.
 *  @version 2.2.2
 *  @author DUzun.Me
 */var o="TEXTAREA",e="autoboxed",t=".dynSiz",r=["autobox","keypress","keyup","click","change","focusin","cut","paste"],n=1,i=2,s=0,a=1,u=2,f=3,d=4,c=5,h=6;function p(p){var l,w,b;function x(o,e){return(!o||(e=parseInt(o,10))&&e<18)&&(o="18px"),o}function g(e){return e.filter(o).add(e.find(o))}function v(o,e){var t=p(o),r=t.outerWidth(),n=t.outerHeight();if(o=t.get(0),e)l&&l!==o&&v(l),w=r,b=n,l=o;else if(l===o&&(b!=n||w!=r))return t.trigger("resize"),w=r,b=n,!0}function y(){var o,e,t,r=this,d=p(r),c=d.data(),l=c._ab_origs,w=r.style,b=d.val(),g=b.split("\n"),y=d.prop("rows"),_=d.prop("cols"),m=0;for(v(d,!0),e=0,o=g.length;e<o;e++)(t=g[e].length)>m&&(m=t);if(l)delete(l=c._ab_origs).rest;else{if(d.is(":hidden"))return;if(d.stop(!0),(l=c._ab_origs=[y,_,w.height||d.css("height"),w.width||d.css("width"),d.css("overflow-y"),d.css("overflow-x"),d.css("resize")]).aw=d.attr("width"),l.ah=d.attr("height"),e=0,l.ah||(e|=n),l.aw||(e|=i),0===e||e===(n|i))switch(d.prop("resize")||d.attr("resize")||l[h]){case"vertical":e=n;break;case"horizontal":e=i}if(l.ar=e){var z={resize:"none"};e===n&&(z["overflow-y"]="hidden",!l.aw&&(l.aw=l[f]),delete l.ah),e===i&&(z["overflow-x"]="hidden",!l.ah&&(l.ah=l[u]),delete l.aw),d.css(z)}d.data("_ab_origs",l)}b=b.length,g=l.ah||"auto",t=l.aw||"auto",l.nadj=~l.ar&n,m?(m+=5+(m>>4),((o+=y>2||o>1)>y||b<l.tl&&l.ar&n)&&d.prop("rows",o)):(o<=1?(o=l[s],g=l[u],l.nadj=!0):o++,m=l[a],t=l[f],l.ar&n&&d.prop("rows",o)),l.ar&i&&d.prop("cols",m).prop("size",m),d.css({height:x(g),width:t}),l.tl=b,l.nadj?v(d):function e(){if(d.data("_ab_origs")){y=r.rows;for(var t=r.scrollHeight,n=r.offsetHeight,i=0,s=t-n,a=n,u=y;i!=s&&t&&n;)if(i=s,s>0&&(d.prop("rows",Math.max(++y,(t*y/n>>0)-1,o)),s=(t=r.scrollHeight)-(n=r.offsetHeight),u!=r.rows&&a==n)){d.css("overflow-y",""),d.prop("rows",u);break}s>5&&a!=n&&setTimeout(e,16),v(d)}}()}function _(o){var e=p(this),t=o.data;(o=e.data("_ab_origs"))&&(o.rest=!0,setTimeout(function(){o.rest&&(v(e,!0),e.removeData("_ab_origs").prop("rows",o[s]).prop("cols",o[a]).prop("size",o[a]).css({"overflow-y":o[d],"overflow-x":o[c],resize:o[h]}),o={height:x(o[u]),width:o[f]},t.speed?e.animate(o,t.speed,function(){v(e)}):v(e.css(o)))},t.delay||250))}function m(){return g(this).each(y),this}function z(o){var n=g(this);return o=p.extend({},p.autobox.options,o),n.addClass(e).off(t),p.each(r,function(o,e){n.on(e+t,y)}),o.permanent||n.on("blur"+t,o,_),this}p.fn.autobox=m,p.fn.autoboxOn=function(n,i){var s=this;return i=p.extend({},p.autobox.options,i),n||(n=o),s.off(t,n).addClass(e).on(r.join(t+" ")+t,n,y),i.permanent||s.on("blur"+t+" focusout"+t,n,i,_),s},p.fn.autoboxBind=z,p.fn.bindAutobox=z,p.autobox=function(o,e){return e=p.extend({},p.autobox.options,e),p(o).call(m)},p.autobox.options={permanent:!1},p.expr[":"].autobox=function(o){return p(o).hasClass(e)}}if("undefined"!=typeof window){var l=window.jQuery||window.Zepto;l&&p(l)}return p});

//# sourceMappingURL=jquery.autobox.min.js.map
