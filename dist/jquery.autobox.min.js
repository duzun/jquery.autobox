/*! Autogrow Textareas while typing - v2.0.0 - 2014-12-24
* https://github.com/duzun/jquery.autobox
* Copyright (c) 2014 Dumitru Uzun
* @licensed MIT
* @author DUzun.Me
*/!function(a){"use strict";function b(a,b){return(!a||(b=parseInt(a,10))&&18>b)&&(a="18px"),a}function c(a){return a.filter(m).add(a.find(m))}function d(a){var b=q(this),c=b.get(0),e=b.outerWidth(),f=b.outerHeight();if(a)j&&j!==c&&d.call(j),k=e,l=f,j=c;else if(j===c&&(l!=f||k!=e))return b.trigger("resize"),k=e,l=f,!0}function e(){function a(){if(h.data("_ab_origs")){m=g.rows;for(var b=g.scrollHeight,e=g.offsetHeight,f=0,i=b-e,j=e,k=m;f!=i&&b&&e;)if(f=i,i>0&&(h.prop("rows",Math.max(++m,(b*m/e>>0)-1,c)),b=g.scrollHeight,e=g.offsetHeight,i=b-e,k!=g.rows&&j==e)){h.prop("rows",k);break}i>5&&j!=e&&setTimeout(a,11),d.call(h)}}var c,e,f,g=this,h=q(g),i=h.data(),j=g.style,k=h.val(),l=k.split("\n"),m=h.prop("rows"),n=h.prop("cols"),o=0;for(d.call(h,!0),e=0,c=l.length;c>e;e++)(f=l[e].length)>o&&(o=f);if(i._ab_origs)i=i._ab_origs,delete i.rest;else{if(h.stop(!0),i=i._ab_origs=[m,n,j.height||h.css("height"),j.width||h.css("width"),h.css("overflow-y"),h.css("overflow-x"),h.css("resize")],i.aw=h.attr("width"),i.ah=h.attr("height"),e=0,i.ah||(e|=1),i.aw||(e|=2),0===e||3===e)switch(h.prop("resize")||h.attr("resize")||i[6]){case"vertical":e=1;break;case"horizontal":e=2}(i.ar=e)&&(1===e&&(h.css({"overflow-y":"hidden"}),!i.aw&&(i.aw=i[3]),delete i.ah),2===e&&(h.css({"overflow-x":"hidden"}),!i.ah&&(i.ah=i[2]),delete i.aw),h.css({resize:"none"})),h.data("_ab_origs",i)}k=k.length,l=i.ah||"auto",f=i.aw||"auto",i.nadj=1&~i.ar,o?(o+=5+(o>>4),c+=m>2||c>1,(c>m||k<i.tl&&1&i.ar)&&h.prop("rows",c)):(1>=c?(c=i[0],l=i[2],i.nadj=!0):c++,o=i[1],f=i[3],1&i.ar&&h.prop("rows",c)),2&i.ar&&h.prop("cols",o).prop("size",o),h.css({height:b(l),width:f}),i.tl=k,i.nadj?d.call(h):a()}function f(a){var c=q(this),e=a.data;(a=c.data("_ab_origs"))&&(a.rest=!0,setTimeout(function(){a.rest&&(d.call(c,!0),c.removeData("_ab_origs").prop("rows",a[0]).prop("cols",a[1]).prop("size",a[1]).css({"overflow-y":a[4],"overflow-x":a[5],resize:a[6]}),a={height:b(a[2]),width:a[3]},e.speed?c.animate(a,e.speed,function(){d.call(c)}):d.call(c.css(a)))},e.delay||10))}function g(){var a=c(this);return a.each(e),this}function h(a){var b=c(this);return a||(a={}),b.addClass(n).unbind(o),q.each(p,function(a,c){b.bind(c+o,e)}),a.permanent||b.bind("blur"+o,a,f),this}function i(a,b){var c=this;return b||(b={}),a||(a=m),c.off(o,a).addClass(n).on(p.join(o+" ")+o,a,e),b.permanent||c.on("blur"+o+" focusout"+o,a,b,f),this}var j,k,l,m="TEXTAREA",n="autoboxed",o=".dynSiz",p=["keypress","keyup","click","change","focusin","cut","paste"],q=a.jQuery||a.Zepto;("function"==typeof define&&define.amd?define:"undefined"!=typeof module&&module.exports?function(a,b){module.exports=b(q||require("jquery"))}:function(a,b){b(q)})([q?null:"jquery"],function(a){a.fn.autobox=g,a.fn.autoboxOn=i,a.fn.bindAutobox=h,a.autobox=function(b,c){return c=a.extend({},a.autobox.options,c),a(b).call(g)},a.autobox.options={permanent:!1},a.expr[":"].autobox=function(b){return a(b).hasClass(n)}})}(this);