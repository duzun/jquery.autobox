{"version":3,"file":"jquery.autobox.js","sources":["jquery.autobox.js"],"sourcesContent":["/**\n * Autogrow Textareas\n * jQuery.autobox\n *\n * https://github.com/duzun/jquery.autobox\n *\n * Copyright (c) 2018 Dumitru Uzun\n *\n *  @license The MIT license.\n *  @version 3.0.1\n *  @author DUzun.Me\n */\n\n/**\n *\n * Usage:\n *\n * $().\n *    autobox()        - Adjust Height/Width of all TEXTAREAs in this and it's descendants\n *    autoboxOn(sel)   - Bind Auto Height/Width Adjustment events to matched element, listening on sel elements\n *    autoboxBind()    - Bind Auto Height/Width Adjustment events to all TEXTAREAs in this and it's descendants\n */\n\n/*jshint\n    esversion: 6,\n    browser: true\n*/\n\nconst TEXTAREA = 'TEXTAREA';\nconst autoboxedClass = 'autoboxed';\nconst namespace = '.dynSiz';\n\nconst _events = [\n        'autobox'\n      , 'keypress'\n      , 'keyup'\n      , 'click'\n      , 'change'\n      , 'focusin'\n      , 'cut'\n      , 'paste'\n    ]\n;\n\n// Constants for internal use\nconst RESIZE_VERTICAL_FLAG   = 1;\nconst RESIZE_HORIZONTAL_FLAG = 2;\n\nconst ROWS_POS       = 0;\nconst COLS_POS       = 1;\nconst HEIGHT_POS     = 2;\nconst WIDTH_POS      = 3;\nconst OVERFLOW_Y_POS = 4;\nconst OVERFLOW_X_POS = 5;\nconst RESIZE_POS     = 6;\n\nexport default function init($) {\n    var cchChkElement;\n    var cchChkWidth;\n    var cchChkHeight;\n\n    function taMH(h,i) {\n        if ( !h || ( (i=parseInt(h, 10)) && i < 18 ) ) {\n            h = '18px';\n        }\n        return h;\n    }\n\n    function findTEXTAREA(ctx) {\n        return ctx.filter(TEXTAREA).add(ctx.find(TEXTAREA));\n    }\n\n    function chkSize(s, save) {\n        var t = $(s)\n        ,   w = t.outerWidth()\n        ,   h = t.outerHeight()\n        ;\n        s = t.get(0);\n        if ( save ) {\n            if ( cchChkElement && cchChkElement !== s ) {\n                chkSize(cchChkElement);\n            }\n            cchChkWidth   = w;\n            cchChkHeight  = h;\n            cchChkElement = s;\n        }\n        else {\n            if ( cchChkElement === s ) {\n                if ( cchChkHeight != h || cchChkWidth != w ) {\n                    t.trigger('resize');\n                    cchChkWidth  = w;\n                    cchChkHeight = h;\n                    return true;\n                }\n            }\n        }\n    }\n\n    function taBoxAdj() {\n        var t  = this\n        ,   o  = $(t)\n        ,   d  = o.data()\n        ,   e  = d._ab_origs\n        ,   s  = t.style\n        ,   ol = o.val()\n        ,   v  = ol.split('\\n')\n        ,   ar = o.prop('rows')\n        ,   ac = o.prop('cols')\n        ,   c  = 0\n        ,   r, i, l\n        ;\n\n        chkSize(o, true);\n\n        for ( i=0,r=v.length; i<r; i++ ) {\n            if ( (l=v[i].length) > c ) {\n                c = l;\n            }\n        }\n\n        // On first call, backup original metric properties\n        if ( !e ) {\n            // Can't init when hidden - all metrics are zero\n            if ( o.is(':hidden') ) {\n                return;\n            }\n            o.stop(true);\n            e = d._ab_origs = [\n                ar\n              , ac\n              , s.height || o.css('height')\n              , s.width  || o.css('width')\n              , o.css('overflow-y')\n              , o.css('overflow-x')\n              , o.css('resize')\n            ];\n            e.aw = o.attr('width');\n            e.ah = o.attr('height');\n            i = 0;\n            if(!e.ah) { i |= RESIZE_VERTICAL_FLAG;   }\n            if(!e.aw) { i |= RESIZE_HORIZONTAL_FLAG; }\n\n            // use ar\n            if( i === 0 || i === (RESIZE_VERTICAL_FLAG | RESIZE_HORIZONTAL_FLAG) ) {\n                switch(o.prop('resize') || o.attr('resize') || e[RESIZE_POS]) {\n                    case 'vertical':   i = RESIZE_VERTICAL_FLAG  ; break;\n                    case 'horizontal': i = RESIZE_HORIZONTAL_FLAG; break;\n                }\n            }\n            if ( e.ar = i ) {\n                var css = { resize: 'none' };\n                if(i === RESIZE_VERTICAL_FLAG  ) {\n                    css['overflow-y'] = 'hidden';\n                    !e.aw && (e.aw = e[WIDTH_POS]);\n                    delete e.ah;\n                }\n                if(i === RESIZE_HORIZONTAL_FLAG) {\n                    css['overflow-x'] = 'hidden';\n                    !e.ah && (e.ah = e[HEIGHT_POS]);\n                    delete e.aw;\n                }\n                o.css(css);\n            }\n            // Ensure data is saved\n            o.data('_ab_origs', e);\n        }\n\n        // Not first call\n        else {\n            e = d._ab_origs;\n            delete e.rest;\n        }\n\n        ol = ol.length;\n        v = e.ah || 'auto';\n        l = e.aw || 'auto';\n        e.nadj = ~e.ar & RESIZE_VERTICAL_FLAG;\n\n        if(!c) {\n            if(r <= 1) {\n                r = e[ROWS_POS];\n                v = e[HEIGHT_POS];\n                e.nadj = true;\n            }\n            else {\n                r++;\n            }\n            c = e[COLS_POS];\n            l = e[WIDTH_POS];\n            (e.ar & RESIZE_VERTICAL_FLAG) && o.prop('rows', r);\n        }\n        else {\n            c += 5 + (c>>4);\n            r += ar > 2 || r > 1;\n            (r > ar || ol < e.tl && (e.ar & RESIZE_VERTICAL_FLAG)) && o.prop('rows', r);\n        }\n        (e.ar & RESIZE_HORIZONTAL_FLAG) && o.prop('cols', c).prop('size', c);\n        o.css({'height':taMH(v),'width':l});\n        e.tl = ol;\n\n        function adjRows() {\n            if(!o.data('_ab_origs')) return;\n            ar = t.rows;\n            var s = t.scrollHeight\n            ,   h = t.offsetHeight\n            ,   d = 0\n            ,   a = s - h\n            ,   ih = h\n            ,   ir = ar\n            ;\n            for(;d != a && s && h;) {\n                // if(d == a || !s || !h) break;\n                d = a;\n                if(a > 0) {\n                    o.prop('rows', Math.max(++ar, (s*ar/h>>0)-1, r));\n                    s = t.scrollHeight;\n                    h = t.offsetHeight;\n                    a = s - h;\n                    // If rows changed but height not, seems there is some limitation on height (ex max-height)\n                    if(ir != t.rows && ih == h) {\n                        o.css('overflow-y', '');\n                        o.prop('rows', ir);\n                        break;\n                    }\n                }\n            }\n            // if need to adjust height and it changed, try to change it after a delay\n            if(a > 5 && ih != h) setTimeout(adjRows, 16);\n\n            chkSize(o);\n        }\n\n        e.nadj ? chkSize(o) : adjRows();\n    }\n\n    function taRestoreBox(e) {\n        var o = $(this)\n        ,   d = e.data\n        ;\n        if(e=o.data('_ab_origs')) {\n            e.rest = true;\n            setTimeout(function () {\n                if(!e.rest) return;\n                chkSize(o, true);\n                o.removeData('_ab_origs')\n                 .prop('rows', e[ROWS_POS]) // for textarea\n                 .prop('cols', e[COLS_POS]) // for textarea\n                 .prop('size', e[COLS_POS]) // for input\n                 .css({\n                    'overflow-y': e[OVERFLOW_Y_POS]\n                  , 'overflow-x': e[OVERFLOW_X_POS]\n                  , 'resize'    : e[RESIZE_POS]\n                });\n                e = {\n                    'height': taMH(e[HEIGHT_POS])\n                  , 'width' : e[WIDTH_POS]\n                };\n\n                if(d.speed) {\n                    o.animate(e, d.speed, function () {\n                        chkSize(o);\n                    });\n                }\n                else {\n                    chkSize(o.css(e));\n                }\n            }, d.delay||250); // bigger delay to allow for clicks on element beneath textarea\n        }\n    }\n\n    function autoBox() {\n        var o = findTEXTAREA(this) ;\n        o.each(taBoxAdj);\n        return this;\n    }\n\n    function autoboxBind(s) {\n        var o = findTEXTAREA(this) ;\n        s = $.extend({}, $.autobox.options, s);\n        o\n         .addClass(autoboxedClass)\n         .off(namespace);\n        $.each(_events, function (i,e) {\n            o.on(e+namespace, taBoxAdj);\n        });\n        if ( !s.permanent ) {\n            o.on('blur'+namespace, s, taRestoreBox);\n        }\n        return this;\n    }\n\n    function autoBoxOn(sel, s) {\n        var o = this;\n        s = $.extend({}, $.autobox.options, s);\n        sel || (sel = TEXTAREA);\n        o.off(namespace, sel)\n         .addClass(autoboxedClass)\n         .on(\n            _events.join(namespace+' ')+namespace\n            , sel\n            , taBoxAdj\n          )\n        ;\n\n        if ( !s.permanent ) {\n            o.on('blur'+namespace+' '+'focusout'+namespace, sel, s, taRestoreBox) ;\n        }\n\n        return o;\n    }\n\n// Export:\n\n    // Collection methods.\n    $.fn.autobox     = autoBox     ;\n    $.fn.autoboxOn   = autoBoxOn   ;\n    $.fn.autoboxBind = autoboxBind ;\n\n    // Alias\n    $.fn.bindAutobox = autoboxBind ;\n\n    // Static method.\n    $.autobox = function(elements, options) {\n      // Override default options with passed-in options.\n      options = $.extend({}, $.autobox.options, options);\n      // Return something awesome.\n      return $(elements).call(autoBox);\n    };\n\n    // Static method default options.\n    $.autobox.options = {\n      permanent: false\n    };\n\n    // Custom selector.\n    $.expr[':'].autobox = function(elem) {\n      // Is this element awesome?\n      return $(elem).hasClass(autoboxedClass);\n    };\n}\n\nif ( typeof window !== 'undefined' ) {\n    const $ = window.jQuery || window.Zepto;\n    if ( $ ) init($);\n}\n"],"names":["TEXTAREA","autoboxedClass","namespace","_events","RESIZE_VERTICAL_FLAG","RESIZE_HORIZONTAL_FLAG","ROWS_POS","COLS_POS","HEIGHT_POS","WIDTH_POS","OVERFLOW_Y_POS","OVERFLOW_X_POS","RESIZE_POS","init","$","cchChkElement","cchChkWidth","cchChkHeight","taMH","h","i","parseInt","findTEXTAREA","ctx","filter","add","find","chkSize","s","save","t","w","outerWidth","outerHeight","get","trigger","taBoxAdj","o","d","data","e","_ab_origs","style","ol","val","v","split","ar","prop","ac","c","r","l","length","is","stop","height","css","width","aw","attr","ah","resize","rest","nadj","tl","adjRows","rows","scrollHeight","offsetHeight","a","ih","ir","Math","max","setTimeout","taRestoreBox","removeData","speed","animate","delay","autoBox","each","autoboxBind","extend","autobox","options","addClass","off","on","permanent","autoBoxOn","sel","join","fn","autoboxOn","bindAutobox","elements","call","expr","elem","hasClass","window","jQuery","Zepto"],"mappings":"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"}